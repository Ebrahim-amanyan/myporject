<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>Ø³ÛŒÙ†Ù…Ø§ÛŒ Ø¯ÙˆÙ†ÙØ±Ù‡ ğŸ¬â¤ï¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{margin:0;font-family:sans-serif;background:#0f172a;color:#e5e7eb}
    header,footer{background:#020617;text-align:center;padding:10px}
    main{display:grid;grid-template-columns:2fr 1fr;gap:10px;padding:10px}
    .card{background:#020617;border-radius:14px;padding:12px}
    input,button{width:100%;padding:10px;margin-top:8px;border:none;border-radius:10px;font-size:14px}
    button{background:#2563eb;color:white;cursor:pointer}
    #playerBox{margin-top:10px}
    video,iframe{width:100%;height:420px;border-radius:12px;background:black;border:none}
    #chat{height:300px;overflow-y:auto;background:#020617;border-radius:10px;padding:8px}
    .msg{font-size:14px;margin-bottom:6px}
    #lock{display:flex;align-items:center;justify-content:center;height:100vh}
    @media(max-width:768px){main{grid-template-columns:1fr}video,iframe{height:280px}}
  </style>
</head>
<body><!-- Ù‚ÙÙ„ ÙˆØ±ÙˆØ¯ --><div id="lock">
  <div class="card" style="max-width:320px;width:100%">
    <h3>ğŸ”’ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒÙ†Ù…Ø§ÛŒ Ø¯ÙˆÙ†ÙØ±Ù‡</h3>
    <input id="password" type="password" placeholder="Ø±Ù…Ø² ÙˆØ±ÙˆØ¯" />
    <button onclick="unlock()">ÙˆØ±ÙˆØ¯</button>
    <p style="font-size:12px;opacity:.7">Ø±Ù…Ø² Ø¯Ø§Ø®Ù„ Ú©Ø¯ Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ø§Ø³Øª</p>
  </div>
</div><!-- Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† --><div id="app" style="display:none">
  <header>ğŸ¥ Ø³ÛŒÙ†Ù…Ø§ÛŒ Ø¯ÙˆÙ†ÙØ±Ù‡</header>  <main>
    <!-- ÙˆÛŒØ¯ÛŒÙˆ -->
    <div class="card">
      <h3>ğŸ¬ Ù¾Ø®Ø´ ÙÛŒÙ„Ù…</h3>
      <input id="videoLink" placeholder="Ù„ÛŒÙ†Ú© ÙˆÛŒØ¯ÛŒÙˆ (mp4 ÛŒØ§ embed)" />
      <button onclick="loadVideo()">Ù†Ù…Ø§ÛŒØ´ ÙˆÛŒØ¯ÛŒÙˆ</button>
      <div id="playerBox"></div>
      <p style="font-size:12px;opacity:.7">mp4 Ù…Ø³ØªÙ‚ÛŒÙ… ÛŒØ§ Google Drive preview</p>
    </div><!-- Ú†Øª -->
<div class="card">
  <h3>ğŸ’¬ Ú†Øª Ø¯ÙˆÙ†ÙØ±Ù‡</h3>
  <div id="chat"></div>
  <input id="name" placeholder="Ø§Ø³Ù…" />
  <input id="message" placeholder="Ù¾ÛŒØ§Ù…..." />
  <button onclick="sendMessage()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

  </main>  <footer>â¤ï¸ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¯ÙˆØªØ§</footer>
</div><!-- Firebase --><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script><script>
  /* ===== ØªÙ†Ø¸ÛŒÙ…Ø§Øª ===== */
  const SITE_PASSWORD = "1234"; // â† Ø±Ù…Ø² Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
    projectId: "YOUR_PROJECT",
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const chatRef = db.ref("chat");

  /* ===== ÙˆØ±ÙˆØ¯ ===== */
  function unlock(){
    if(document.getElementById('password').value === SITE_PASSWORD){
      document.getElementById('lock').style.display='none';
      document.getElementById('app').style.display='block';
    } else alert('Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
  }

  /* ===== Ù¾Ø®Ø´ ÙˆÛŒØ¯ÛŒÙˆ Ù‡ÙˆØ´Ù…Ù†Ø¯ ===== */
  function loadVideo(){
    const link = document.getElementById('videoLink').value.trim();
    const box = document.getElementById('playerBox');
    box.innerHTML = '';

    if(!link) return;

    if(link.endsWith('.mp4')){
      const v = document.createElement('video');
      v.src = link;
      v.controls = true;
      v.autoplay = true;
      box.appendChild(v);
    } else {
      const f = document.createElement('iframe');
      f.src = link;
      f.allowFullscreen = true;
      box.appendChild(f);
    }
  }

  /* ===== Ú†Øª Ø¢Ù†Ù„Ø§ÛŒÙ† ===== */
  const chatBox = document.getElementById('chat');

  function sendMessage(){
    const name = document.getElementById('name').value || 'Ù†Ø§Ø´Ù†Ø§Ø³';
    const text = document.getElementById('message').value;
    if(!text) return;
    chatRef.push({name,text});
    document.getElementById('message').value='';
  }

  chatRef.limitToLast(100).on('child_added',snap=>{
    const m = snap.val();
    const div = document.createElement('div');
    div.className='msg';
    div.textContent = m.name + ': ' + m.text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
  });
</script></body>
</html>
