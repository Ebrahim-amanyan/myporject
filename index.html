<!DOCTYPE html><html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>Ø³ÛŒÙ†Ù…Ø§ÛŒ Ø¯ÙˆÙ†ÙØ±Ù‡ ğŸ”’ğŸ¬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {margin:0;font-family:sans-serif;background:#0f172a;color:#e5e7eb;min-height:100vh}
    header,footer{background:#020617;text-align:center;padding:10px}
    main{display:grid;grid-template-columns:2fr 1fr;gap:10px;padding:10px}
    .card{background:#020617;border-radius:12px;padding:10px}
    iframe{width:100%;height:420px;border:none;border-radius:10px}
    input,button{width:100%;padding:8px;margin-top:6px;border:none;border-radius:8px}
    button{background:#2563eb;color:#fff;cursor:pointer}
    #chat{height:300px;overflow-y:auto;background:#020617;border-radius:8px;padding:6px}
    .msg{font-size:14px;margin-bottom:4px}
    #lock{display:flex;align-items:center;justify-content:center;height:100vh}
    @media(max-width:768px){main{grid-template-columns:1fr}iframe{height:300px}}
  </style>
</head>
<body><div id="lock">
  <div class="card" style="max-width:300px;width:100%">
    <h3>ğŸ”’ ÙˆØ±ÙˆØ¯</h3>
    <input id="password" type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" />
    <button onclick="unlock()">ÙˆØ±ÙˆØ¯</button>
    <p style="font-size:12px;opacity:.7">Ø±Ù…Ø² Ø¯Ø§Ø®Ù„ Ú©Ø¯ Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ø§Ø³Øª</p>
  </div>
</div><div id="app" style="display:none">
  <header>ğŸ¥ Ø³ÛŒÙ†Ù…Ø§ÛŒ Ø¯ÙˆÙ†ÙØ±Ù‡</header>  <main>
    <div class="card">
      <h3>ÙˆÛŒØ¯ÛŒÙˆ</h3>
      <input id="videoLink" placeholder="Ù„ÛŒÙ†Ú© embed ÛŒØ§ preview" />
      <button onclick="loadVideo()">Ù†Ù…Ø§ÛŒØ´ ÙˆÛŒØ¯ÛŒÙˆ</button>
      <iframe id="player"></iframe>
    </div><div class="card">
  <h3>ğŸ’¬ Ú†Øª Ø¢Ù†Ù„Ø§ÛŒÙ†</h3>
  <div id="chat"></div>
  <input id="name" placeholder="Ø§Ø³Ù…" />
  <input id="message" placeholder="Ù¾ÛŒØ§Ù…..." />
  <button onclick="sendMessage()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

  </main>  <footer>â¤ï¸ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¯Ùˆ Ù†ÙØ±</footer>
</div><!-- Firebase --><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script><script>
  /* ===== ØªÙ†Ø¸ÛŒÙ…Ø§Øª ===== */
  const SITE_PASSWORD = "1234"; // â† Ø§ÛŒÙ†Ùˆ Ø¹ÙˆØ¶ Ú©Ù†

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT-default-rtdb.firebaseio.com",
    projectId: "YOUR_PROJECT",
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const chatRef = db.ref("chat");

  /* ===== Ù‚ÙÙ„ ===== */
  function unlock(){
    if(document.getElementById('password').value === SITE_PASSWORD){
      document.getElementById('lock').style.display='none';
      document.getElementById('app').style.display='block';
    } else alert('Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡Ù‡');
  }

  /* ===== ÙˆÛŒØ¯ÛŒÙˆ ===== */
  function loadVideo(){
    document.getElementById('player').src = document.getElementById('videoLink').value;
  }

  /* ===== Ú†Øª ===== */
  const chatBox = document.getElementById('chat');

  function sendMessage(){
    const name = document.getElementById('name').value || 'Ù†Ø§Ø´Ù†Ø§Ø³';
    const text = document.getElementById('message').value;
    if(!text) return;
    chatRef.push({name,text});
    document.getElementById('message').value='';
  }

  chatRef.limitToLast(50).on('child_added',snap=>{
    const m = snap.val();
    const div = document.createElement('div');
    div.className='msg';
    div.textContent = m.name + ': ' + m.text;
    chatBox.appendChild(div);
    chatBox.scrollTop = chatBox.scrollHeight;
  });
</script></body>
</html>
